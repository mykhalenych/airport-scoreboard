(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{38:function(e,t,a){e.exports=a(59)},43:function(e,t,a){},44:function(e,t,a){},59:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),c=a(14),l=a.n(c),o=(a(43),a(12)),i=a(17),s=a(9),m=a(8),u=(a(44),a(34)),d=a.n(u),E=a(33),b=a.n(E),h=a(29),f=a.n(h),p=a(30),_="https://api.iev.aero/api/flights",g=a.n(p)()(new Date).format("DD-MM-YYYY"),v=a(16),N=function(e){return e.scoreBoardList.scoreBoardList.body},O=function(e){return"".concat(e.split("T")[0].split(":")," ").concat(e.split("T")[1].split(":")[0],":").concat(e.split("T")[1].split(":")[1])},y=function(e){var t=e.renderList,a=e.searchedFlight;return null!==a?0===a.length?n.a.createElement("div",{className:"error__tr"},"Flight not found"):a.map((function(e){return n.a.createElement("tbody",{key:Math.random(),className:"scoreboardList-body"},n.a.createElement("tr",{className:"scoreboardList-body__tr"},n.a.createElement("td",null,e.term),n.a.createElement("td",null,O(e.actual)),n.a.createElement("td",null,e["airportToID.city_en"]),n.a.createElement("td",null,"CX"===e.status?"Canceled":e.status),n.a.createElement("td",{className:"scoreboardList-body__tr-item"},n.a.createElement("img",{className:"image__logo",src:e.airline.en.logoSmallName,alt:"logo"}),e.codeShareData[0].airline.en.name),n.a.createElement("td",null,e.codeShareData[0].codeShare)))})):t.map((function(e){return n.a.createElement("tbody",{key:Math.random(),className:"scoreboardList-body"},n.a.createElement("tr",{className:"scoreboardList-body__tr"},n.a.createElement("td",null,e.term),n.a.createElement("td",null,O(e.actual)),n.a.createElement("td",null,e.city),n.a.createElement("td",null,"CX"===e.status?"Canceled":e.status),n.a.createElement("td",{className:"scoreboardList-body__tr-item"},n.a.createElement("img",{className:"image__logo",src:e.airline.en.logoSmallName,alt:"logo"}),e.codeShareData[0].airline.en.name)," ",n.a.createElement("td",null,e.codeShareData[0].codeShare)))}))},L={getScoreBoardList:function(){return function(e){fetch("".concat(_,"/").concat(g)).then((function(e){if(e.ok)return e.json()})).then((function(e){return e})).then((function(t){return e({type:"BOARD_LIST_RECIVED",payload:{scoreBoardList:t}})}))}}},S=Object(v.b)((function(e){return{scoreboardList:N(e)}}),L)((function(e){var t=e.scoreboardList,a=e.getScoreBoardList;Object(r.useEffect)((function(){a()}),[]);var c=Object(s.g)(),l=Object(r.useState)("departure"),u=Object(i.a)(l,2),E=u[0],h=u[1],p="arrival"===E?"_active":"_inactive",_="departure"===E?"_active":"_inactive";Object(r.useEffect)((function(){c.pathname.includes("arrival")?h("arrival"):c.pathname.includes("departure")&&h("departure")}),[c]);var g=Object(s.h)().direction,v=[];t&&(v="arrival"===g?t.arrival.filter((function(e){return void 0!==e.airline})).map((function(e){return Object(o.a)({},e,{city:e["airportFromID.city_en"],time:e.timeArrShedule})})).sort((function(e,t){return e.time-t.time})):t.departure.filter((function(e){return void 0!==e.airline})).map((function(e){return Object(o.a)({},e,{city:e["airportToID.city_en"],time:e.timeArrShedule})})).sort((function(e,t){return e.time-t.time})));var N=f.a.parse(Object(s.g)().search,{ignoreQueryPrefix:!0}).search,O=N?t.departure.filter((function(e){return e.codeShareData[0].codeShare===N})):null;return n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:"conteiner"},n.a.createElement("button",{className:"btn conteiner__btn-departure".concat(_)},n.a.createElement(b.a,null),n.a.createElement(m.b,{to:"/departure"},"departure")),n.a.createElement("button",{className:"btn conteiner__btn-arrival".concat(p)},n.a.createElement(d.a,null),n.a.createElement(m.b,{to:"/arrival"},"arrival"))),n.a.createElement("table",{className:"scoreboardList"},n.a.createElement("thead",{className:"scoreboardList-header"},n.a.createElement("tr",{className:"scoreboardList-header__tr"},n.a.createElement("th",null,"Terminal"),n.a.createElement("th",null,"Schedule"),n.a.createElement("th",null,"Destination "),n.a.createElement("th",null,"Status"),n.a.createElement("th",null,"Airline"),n.a.createElement("th",null,"Flight"))),n.a.createElement(s.c,null,n.a.createElement(y,{renderList:v,searchedFlight:O}))))})),j=a(35),D=a.n(j),B=function(){var e=Object(r.useState)(""),t=Object(i.a)(e,2),a=t[0],c=t[1],l=Object(s.f)(),o=Object(s.g)(),u=Object(s.h)(),d=u.flight,E=u.direction;Object(r.useEffect)((function(){a&&l.push("".concat(o.pathname,"/").concat(a)),d&&c(d)}),[E]);return n.a.createElement("section",{className:"scoreboard"},n.a.createElement("h2",{className:"scoreboard__title"},"SEARCH FLIGHT"),n.a.createElement("form",{className:"scoreboard__form"},n.a.createElement("div",{className:"scoreboard__form"},n.a.createElement("input",{className:"scoreboard__form-search",value:a,onChange:function(e){c(e.target.value)},name:"input",placeholder:"Write flight number"}),n.a.createElement(D.a,{className:"scoreboard__form-icon"})),n.a.createElement("button",{className:"scoreboard__form-submit",type:"submit"},n.a.createElement(m.b,{to:"/departure?search=".concat(a)},"Search"))))},T=function(){return n.a.createElement("div",{className:"wrap"},n.a.createElement(m.a,null,n.a.createElement(B,null),n.a.createElement(s.c,null,n.a.createElement(s.a,{path:"/:direction?/:flight?"},n.a.createElement(S,null)))))},I=a(11),C=a(36),w={scoreBoardList:[],flightNumber:[]},F=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:w,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"BOARD_LIST_RECIVED":return Object(o.a)({},e,{scoreBoardList:t.payload.scoreBoardList});default:return e}},A=Object(I.c)({scoreBoardList:F,flightNumber:F}),M=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||I.d,R=Object(I.e)(A,M(Object(I.a)(C.a)));l.a.render(n.a.createElement(n.a.StrictMode,null,n.a.createElement(v.a,{store:R},n.a.createElement(T,null))),document.getElementById("root"))}},[[38,1,2]]]);
//# sourceMappingURL=main.0a50796a.chunk.js.map